# Linux OS相关

记录 Linux 常用的开发常识。

## 一、Linux常用命令

```bash

```

## 二、Linux环境变量

Linux 中环境变量相关的文件如下，重点知道`/etc/profile`，`~/.profile` 和 `~/.bashrc`三个文件的区别即可。

| 路径                   | 范围     | 加载时机                                      | 用途                                                         | 开发人员使用场景                                             |
| :--------------------- | :------- | :-------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **`/etc/profile`**     | **全局** | 所有**登录Shell**（如 SSH 登录、`su -`）      | 设置全局环境变量，启动全局脚本                               | 放置所有用户都需要的基础环境变量，通常更推荐在 `/etc/profile.d/`下创建自定义脚本 |
| **`/etc/bash.bashrc`** | **全局** | 所有**交互式Shell**                           | 设置全局 Shell 选项、别名（alias）、函数，Ubuntu 默认此文件会调用 `/etc/profile.d/*.sh` | 为所有用户设置通用的别名，如 `alias ll='ls -alF'`            |
| **`~/.profile`**       | **用户** | 用户自己的**登录Shell**                       | 设置用户级别的环境变量、启动用户脚本。如果 `~/.bash_profile`或 `~/.bash_login`存在，则它不会被读取。 | 设置用户级别的 `PATH`, `EDITOR`                              |
| **`~/.bashrc`**        | **用户** | 用户自己的**交互式Shell**                     | 设置用户级别的 Shell 选项、别名、函数                        | 用户个性化配置中心，设置别名、美化终端、定义常用函数。       |
| **`~/.bash_profile`**  | **用户** | 用户自己的**登录Shell**（优先级高于.profile） | 功能同 `~/.profile`，如果存在，登录 Shell 会加载它而不是 `~/.profile` | 较少使用，除非你明确需要特定的 Bash 登录行为，建议只使用 `~/.profile` |
| **`/etc/environment`** | **全局** | 所有进程，非 Shell 脚本                       | 设置系统的环境变量。该文件不是脚本，而是简单的 `KEY=VAL`对。 | 设置系统级的关键变量，确保所有应用程序都能读取到，修改后需要重启或重新登录才能生效。 |

**拓展：登录Shell和交互式Shell的区别**

<font color = red>登录 Shell：</font>用户登录系统时启动的第一个 Shell，通常需要身份认证，如输入用户名和密码。

> **典型场景**
>
> - 通过 SSH 登录服务器；
> - 在终端按 `Ctrl+Alt+F1~F6`切换到的 TTY 控制台；
> - 执行 `su - username`切换用户。
>
> **配置文件加载**
>
> - `/etc/profile`：系统级全局配置；
>   - 通常调用 `/etc/profile.d/*.sh`中的脚本；
>
> - `~/.bash_profile` , `~/.bash_login`,  `~/.profile`：用户级配置，优先级从左到右加载其中一个；Ubuntu 默认使用 `~/.profile`。
>
> **核心作用**：设置环境变量，如 `PATH`, `JAVA_HOME`；启动需要登录时运行一次的程序，如代理设置、密钥加载等。

<font color = red>交互式Shell：</font>用户手动启动的 Shell，可直接输入命令并看到实时输出。

> **典型场景**
>
> - 在桌面环境中打开终端；
> - 在已有 Shell 中执行`bash`启动子 Shell；
> - 通过 `tmux`或 `screen`新建会话。
>
> **配置文件加载**：只加载 `~/.bashrc`。
>
> **核心作用**：定义 Shell 命令别名，如 `alias ll='ls -alF'` 等；设置 **Shell 选项**，如 `set -o vi`启用 Vi 模式；自定义命令提示符。