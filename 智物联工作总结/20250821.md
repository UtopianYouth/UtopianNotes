# **工作总结**

## 日期

2025.08.21

## 工作内容

> **上午**
>
> - 分析 yunuis 整体框架代码；
>
> **下午**
>
> - 讨论，明确 yunuis 转发和加载 block 中的 action 需求;
>
> - 弄清楚 internal 没有的 action 但是其他子服务 block 有该 action 的转发流程（提前将其他 block 的 action_list 整合到内部 action_list 中）;
>
> - 弄清楚系统 action 和用户 action 转发执行 lua 脚本的流程。



继续上面的回答，目前yunuis的实现方式是基于微服务的，也就是plus包下面的实现的资源、商品和费用管理后续都会被拆分出去，不在yunuis的项目中，上面实现的action转发中，没有使用微服务的方式，而是单纯的在yunuis项目下plus包中寻找的action，这种实现方式是错误的，现在我需要提出新的需求，基于微服务的转发，并且帮我详细依consul.go文件的规范来实现，具体需求如下：

1.从consul服务中获取所有注册的服务（192.168.88.87:30850）
2.遍历服务列表，获取每个服务提供的action（{"action":"get_action_list"}）
3.遍历所有action，将action的信息放在yunuis内
4.通过yunuis，可以将请求的action，在yunuis内部调用对应其他服务的action(比如，需要获取商品商品列表，那么通过yunuis的http的请求，{"action":"get_product_lilst"}，就会去请求product-service的http请求{"action":"get_product_lilst"})